@import "../common/questions";

.question-actions {
  .question-actions-icon {
    height: 3rem;
    &:focus {
      outline: none;
    }
  }
  .question-actions-link-box {
    float:right;
    border: 1px solid gray;
    height: 3.6rem;
    border-right: none;
    padding-right: 2.5rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    margin-right: -1.9rem;
    background: white;

    .question-actions-link {
      padding-left: 3px;
      padding-right: 3px;
      margin-left: 1rem;
      font-style: italic;
    }
  }
}

.question-panel > .content-chunk > .content-value,
.question-component .question-content {
  font-family: $primary-font;
}
.question-panel > .content-chunk > .content-value {
  background: none;
  box-shadow: none;
  padding: 0 0.25rem;
  font-weight: 400;
}

:not(.generic-panel):not(.concept-panel):not(.question-panel) > .content-chunk > .figure-panel {
  // if a figure is in the top level of a content block that is not the top level of a page (i.e. preamble), indent it. otherwise (i.e. when inside a layout component), leave it for that component to handle
  // TODO: move the padding from this to the layout component (usually accordions!)
  padding: 0 3rem;
}

.question-panel .isaac-accordion {
  background: $gray-103;
  .card-body > .content-chunk > .content-value {
    @extend .px-md-5;
    font-size: $question-font-size;
    line-height: $question-line-height;
  }

  // Fluent redesign
  .card-body:has(.question-component) {
    padding: 0;
  }

  .question-component {
    margin-left: -0.5rem;
    margin-right: -0.5rem;
    padding: 1rem 1.5rem 0;
    background-color: var(--subject-color-50);
    border: 1px solid var(--subject-color-100);
    border-radius: 4px;
  }

  // Make sure that reorder questions have a background when they expand on Phy
  .question-component:not(.expansion-layout) {
    box-shadow: none;
    margin-bottom: 1.5rem;
  }
  // Make sure the banner does not overflow on reorder questions on Phy
  div:not(.expansion-layout) > .validation-response-panel {
    border-radius: 0 0 8px 8px;
    &.correct, &.almost {
      margin-left: -1.5rem;
      margin-right: -1.5rem;
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }

  form + form {
    .question-component {
      margin-top: 4rem;
    }
  }
}

.quick-question {
  button {
    border-radius: 0 !important;

    &.active {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
  }
  .alert {
    border-bottom-left-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
  }
}

.concept-content-container, .generic-content-container {
  .quick-question {
    .question-content, .content-value, .btn {
      font-size: 1rem !important;
    }
  }
}

.symbolic-question,
.equality-page {
  .eqn-editor-preview {
    font-size: 1.5rem;
    border: solid 1px $black;
  }
}

.validation-response-panel {
  .question-response {
    font-family: desyrel, serif;
    font-size: 36px;
    font-weight: 600;
  }
  h1 {
    font-family: desyrel, serif;
    font-size: 48px;
    font-weight: 700;
  }
  &.correct {
    background: var(--subject-color-500);
    color: white;
    a {
      color: white !important;
    }
  }
  &.almost {
    background: #ffb847;
    color: #3c0000;
  }
}

.numeric-question {
  .numeric-help.numeric-help {
    color: $color-neutral-900;
  }

  .unit-selection {
    .display-unit {
      opacity: 1 !important;
    }
    .dropdown-item {
      &:active {
        background-color: var(--subject-color-500);
        color: white;
      }
      &:focus {
        box-shadow: 0 0 0 0.25rem color-mix(in srgb, var(--subject-color-500) 25%, transparent);
      }
    }
  }
}

// styling for question components outside an accordion
.question-component {
  border: 2px solid var(--nav-primary);
  padding: 0;
  border-radius: 8px;
  margin-bottom: 1rem;

  > div:first-child {
    padding: 2rem 2rem 0.5rem;

    &:last-child {
      padding-bottom: 3rem;
    }
  }
}

// any such styling that should not be present in an accordion
.isaac-accordion .question-component {
  border: unset;
  // padding is overridden above
  border-radius: unset;
}

.question-metadata {
  background-color: $color-neutral-100;
  border: 1px solid $color-neutral-200;
  border-radius: 4px;
  padding: 1rem 0.5rem;
  margin: 1rem 0;
  font-size: 14px;

  > div > span:first-child {
    color: $color-neutral-800;
    margin-bottom: 0.4rem;
  }

  > div + div {
    border-left: 1px solid $color-neutral-200;
  }
}
